// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../prisma/generated/"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  name      String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Lead {
  id        String     @id @default(cuid())
  name      String
  phone     String
  email     String?
  contacted Boolean    @default(false)
  status    LeadStatus @default(NEW)
  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt

  @@map("leads")
}

enum LeadStatus {
  NEW
  CONTACTED
  QUALIFIED
  CONVERTED
  CLOSED

  @@map("lead_status")
}

model announcement {
  id        String   @id @default(cuid())
  title     String
  content   String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("announcements")
}

model HeavyLead {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Personal Information
  name          String
  email         String?
  phone         String?
  currentCity   String
  aboutYourself String?

  // Study Preferences
  preferredCountry String
  intakeTimeline   String
  studyLevel       String
  currentEducation String
  passportStatus   String

  // Status tracking
  status     HeavyLeadStatus @default(NEW)
  assignedTo String?
  notes      String?

  @@map("Heavyleads")
}

enum HeavyLeadStatus {
  NEW
  CONTACTED
  IN_PROGRESS
  QUALIFIED
  CONVERTED
  CLOSED
}

model University {
  id                 String    @id @default(cuid())
  slug               String    @unique
  name               String
  country            String
  city               String?
  logoUrl            String?
  heroImageUrl       String?
  shortDescription   String?
  description        String?
  website            String?
  contact            Json?     // JSON field for PostgreSQL

  exams              Json?     // JSON field for PostgreSQL

  // Services are now individual boolean fields for easier filtering
  visaSupport        Boolean   @default(false)
  accommodation      Boolean   @default(false)
  forex              Boolean   @default(false)
  counselling        Boolean   @default(false)
  applicationFeeWaiver Boolean @default(false)
  scholarshipsHelp   Boolean   @default(false)

  courses            Json?     // JSON field for PostgreSQL

  tags               Json?     // JSON field for PostgreSQL

  // Additional fields for better university information
  tuitionFeeFrom     Int?      // Tuition fee range start in USD
  tuitionFeeTo       Int?      // Tuition fee range end in USD
  qsRanking          Int?      // QS World University Ranking
  intakeSeasons      Json?     // JSON field for intake seasons
  galleryImageUrls   Json?     // JSON field for gallery images

  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt

  @@map("universities")
}

model WebsiteSettings {
  id                String   @id @default(cuid())
  
  // Announcement settings
  announcementTitle String?
  announcementContent String?
  announcementActive Boolean  @default(false)
  
  // Marquee universities settings
  marqueeUniversities Json?   // JSON array of university objects with light/dark URLs
  
  // Homepage sections settings
  heroTitle         String?
  heroSubtitle      String?
  heroDescription   String?
  heroVideoUrl       String?
  heroVideoPoster    String?
  
  ctaTitle          String?
  ctaDescription     String?
  ctaButtonText      String?
  
  valuePropTitle     String?
  valuePropDescription String?
  
  sectionsGroupTitle String?
  sectionsGroupDescription String?
  
  faqTitle          String?
  faqDescription     String?
  faqItems          Json?    // JSON array of FAQ items
  
  // General website settings
  siteTitle         String?
  siteDescription   String?
  contactEmail      String?
  contactPhone      String?
  
  // Social media links
  facebookUrl       String?
  twitterUrl        String?
  instagramUrl      String?
  linkedinUrl       String?
  
  // SEO settings
  metaTitle         String?
  metaDescription   String?
  metaKeywords      String?
  
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  @@map("website_settings")
}
